generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Admin {
  id_admin  BigInt  @id @default(autoincrement())
  nombre    String?
  apellido  String?
  id_cuenta BigInt  @default(autoincrement())

  @@index([id_cuenta], map: "Admin_idCuenta_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Comerciante {
  id_comerciante BigInt  @id @default(autoincrement())
  id_cuenta      BigInt
  nombre         String?
  descripcion    String?

  @@index([id_cuenta], map: "Comerciante_IdCuenta_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Cuenta {
  id_cuenta BigInt  @id @default(autoincrement())
  email     String?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Genero {
  id_genero BigInt @id @default(autoincrement())
  nombre    String
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model GeneroLibro {
  id_registro_genero BigInt  @id @default(autoincrement())
  id_producto        BigInt
  id_genero          BigInt?

  @@index([id_genero], map: "GeneroLibro_idGenero_idx")
  @@index([id_producto], map: "GeneroLibro_idProducto_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model HorarioAbierto {
  id_registro_horario BigInt    @id @default(autoincrement())
  id_tienda           BigInt
  hora_apertura       DateTime? @db.Timestamptz(6)
  hora_cierre         DateTime? @db.Timestamptz(6)
  dia_semana          DateTime? @db.Date

  @@index([id_tienda], map: "HorarioAbierto_idTienda_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Producto {
  id_producto     BigInt   @id @default(autoincrement())
  nombre          Decimal? @db.Decimal
  tipo            String?
  precio_de_lista Decimal? @db.Decimal
  sub_producto    String?
  descripcion     String?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Regiones {
  id_region BigInt  @id @default(autoincrement())
  region    String?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Stock {
  id_registro_stock BigInt  @id @default(autoincrement())
  id_producto       BigInt
  id_tienda         BigInt?
  stock             BigInt?

  @@index([id_producto], map: "Stock_idProducto_idx")
  @@index([id_tienda], map: "Stock_idTienda_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model TiendaFisica {
  id_tienda      BigInt  @id @default(autoincrement())
  id_comerciante BigInt
  nombre         String?
  dpto           String?
  calle          String?
  altura         String?
  id_region      BigInt?

  @@index([id_comerciante], map: "TiendaFisica_IdComerciante_idx")
  @@index([id_region], map: "TiendaFisica_IdRegion_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Usuario {
  id_usuario BigInt  @id @default(autoincrement())
  id_cuenta  BigInt
  nombre     String?
  apellido   String?
  id_region  BigInt?

  @@index([id_cuenta], map: "Usuario_idCuenta_idx")
  @@index([id_region], map: "Usuario_idRegion_idx")
  @@index([id_region], map: "Usuario_idRegion_idx1")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model UsuarioPreferencias {
  id_registro_preferencias BigInt  @id @default(autoincrement())
  id_usuario               BigInt
  id_genero                BigInt?

  @@index([id_genero], map: "UsuarioPreferencias_idGenero_idx")
  @@index([id_usuario], map: "UsuarioPreferencias_idUsuario_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model LogModeracion {
  id_log_mod BigInt @id(map: "LodModeracion_pkey") @default(autoincrement())
  id_admin   BigInt

  @@index([id_admin], map: "LodModeracion_idAdmin_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model LogModeracionReview {
  id_log_mod_review BigInt  @id(map: "LodModeracionRes_pkey") @default(autoincrement())
  id_log_mod        BigInt
  id_review         BigInt?
  motivo_moderacion String?

  @@index([id_log_mod], map: "LodModeracionRes_IdLogMod_idx")
  @@index([id_review], map: "LodModeracionRes_IdRese単a_idx")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model ReviewProducto {
  id_review    BigInt   @id(map: "Rese単aProducto_pkey") @default(autoincrement())
  id_usuario   BigInt   @default(autoincrement())
  id_producto  BigInt   @default(autoincrement())
  texto_review String?
  puntuacion   Decimal? @db.Decimal

  @@index([id_producto], map: "Rese単aProducto_idProducto_idx")
  @@index([id_usuario], map: "Rese単aProducto_idUsuario_idx")
}
